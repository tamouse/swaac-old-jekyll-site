<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>FrontendMasters: JavaScript: The Hard Parts, Will Sentance</title>
    <meta name="description" content="The development blog of tamouse">
    <link rel="stylesheet" href="/swaac/assets/css/main.css" />
    <link rel="canonical" href="https://tamouse.github.io//swaac/javascript/2018/07/11/FeM-JS-The-Hard-Parts/">
    <link href="/swaac/favicon.png" rel="icon">
</head>

  <body>
    <!--[if lt IE 8]>
        <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

    <div class="full-height-wrapper">
      <div class="two-column-wrapper">
        <aside class="sidebar">

  <header>
    <nav id="" class="" role="navigation">
      <div class="container-fluid">
        <div class="">
          <h2><a class="" href="/swaac/">Software as a Craft</a></h2>
        </div>
        <div id="" class="">
          <ul class="">
            
            <li><a href="/swaac/pages/learning">Learning</a></li>
            
            <li><a href="/swaac/pages/all_posts">Posts</a></li>
            
            <li><a href="/swaac/pages">Pages</a></li>
            
            <li><a href="/swaac/tags">Tags</a></li>
            
            <li><a href="/swaac/categories">Categories</a></li>
            
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <footer id="" class="" role="navigation">
    <div class="container-fluid">
      <div class="">
        <a class="" href="http://www.tamouse.org">&copy; 2018 Tamara Temple</a>
      </div>
      <div id="" class="">
        <ul class="">
          <li><a href="//github.com/tamouse">github <i class="fa fa-github"></i></a></li>
          <li><a href="//twitter.com/tamouse">twitter <i class="fa fa-twitter"></i></a></li>
          <li><a href="/swaac/feed.xml">subscribe (RSS) <i class="fa fa-rss"></i></a></li>
          <li><a href="/swaac/pages/colophon/">Colophon</a></li>
        </ul>
      </div>
    </div>
  </footer>
</aside>

        <main id="main-content" class="container-fluid">
          <header class="page-header">
<h1>FrontendMasters: JavaScript: The Hard Parts, Will Sentance</h1>
Jul 11, 2018


 &bullet; <ul class="link-list"><li>Categories:</li><li role="presentation"><a href="/swaac/categories/javascript">javascript</a></li></ul>
 &bullet; <ul class="link-list"><li>Tags: </li><li role="presentation"><a href="/swaac/tags/javascript">javascript</a></li> <li role="presentation"><a href="/swaac/tags/class">class</a></li> <li role="presentation"><a href="/swaac/tags/notes">notes</a></li> 
</header>

<article>
  <p>Recently watching <a href="https://frontendmasters.com/courses/javascript-hard-parts/">this video</a> with a study group,
and working through a few of the coding challenges.</p>

<ul id="markdown-toc">
  <li><a href="#callbacks-and-higher-order-functions" id="markdown-toc-callbacks-and-higher-order-functions">Callbacks and Higher-Order Functions</a>    <ul>
      <li><a href="#warm-ups" id="markdown-toc-warm-ups">Warm ups</a></li>
      <li><a href="#map" id="markdown-toc-map">map</a></li>
      <li><a href="#foreach" id="markdown-toc-foreach">forEach</a></li>
      <li><a href="#mapwith" id="markdown-toc-mapwith">mapWith</a></li>
    </ul>
  </li>
  <li><a href="#to-be-continued" id="markdown-toc-to-be-continued">(To be continued)</a></li>
</ul>

<h2 id="callbacks-and-higher-order-functions">Callbacks and Higher-Order Functions</h2>

<p>The reference link for this section is
<a href="https://csbin.io/callbacks" title="online editing
sandbox">csbin.io/callbacks</a> where the examples and instructions are given. I’m not going
to repeat all that here, but I’m going to track here my own
work in developing the answers, and my own thoughts and notes.</p>

<p>The first handful of challenges weren’t for me, to the point I didn’t
have to think how these would be implemented. For someone new to this,
though, the can be quite challenging, and we had some good discussion
amongst my study buddies.</p>

<h3 id="warm-ups">Warm ups</h3>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">addTwo</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">2</span> <span class="p">}</span>
<span class="kd">function</span> <span class="nx">addS</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">s</span> <span class="o">+</span> <span class="s2">"s"</span> <span class="p">}</span></code></pre></figure>

<h3 id="map">map</h3>

<p>Map returns a new array, where each item is the result of running the callback on each element of the orginal array</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">map</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">cb</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Declare and initialize the return array.</span>
  <span class="c1">// Need some place to put our work</span>
  <span class="kd">let</span> <span class="nx">mapped</span> <span class="o">=</span> <span class="p">[]</span>

  <span class="c1">// Using a standard for loop to process each element of the array</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// assigning the current element of the array here, although not necessary,</span>
    <span class="c1">// illustrates the point that the rest of the body of the for loop *after*</span>
    <span class="c1">// this point is acting on the current element.</span>
    <span class="kd">let</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>

    <span class="c1">// The current item of the original array gets passed</span>
    <span class="c1">// to the callback function, and the result is added</span>
    <span class="c1">// to the end of the new array</span>
    <span class="nx">mapped</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">cb</span><span class="p">(</span><span class="nx">item</span><span class="p">))</span>
  <span class="p">}</span>

  <span class="c1">// The result of the map is the new array with the processed elements</span>
  <span class="k">return</span> <span class="nx">mapped</span>
<span class="p">}</span></code></pre></figure>

<p>Let’s check it: pass in an array of integers, and a function to add 2 to each element</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">map</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="nx">addTwo</span><span class="p">))</span>
<span class="c1">// =&gt; [ 3, 4, 5, 6 ]</span></code></pre></figure>

<p>Note the declaration and assignment of the current array item to the intermediate variable <code class="highlighter-rouge">item</code> in the <code class="highlighter-rouge">for</code> loop. This is not necesary by any means, but I put it in to illustrate the distinction between the item, and what’s acting on the item. This might become more useful in understanding when we begin to use <code class="highlighter-rouge">forEach</code> in <code class="highlighter-rouge">mapWith</code> and others below.</p>

<h3 id="foreach">forEach</h3>

<p>The standard for loop used above in the <code class="highlighter-rouge">map</code> function is great and all, and I’ll be using it again here implementing this <code class="highlighter-rouge">forEach</code> function. The <code class="highlighter-rouge">forEach</code> function will then become the building block for the next set of of functions.</p>

<p>The <code class="highlighter-rouge">forEach</code> function is an <em>impure</em> function, returning nothing and only performing side-effects for each element of the array.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">forEach</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">cb</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="c1">// to hold the current item</span>
    <span class="nx">cb</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="c1">// act on the current item</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// Check the forEach</span>
<span class="nx">forEach</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">)</span> <span class="c1">// can pass in functions!</span>
<span class="c1">// =&gt;</span>
<span class="c1">// 1</span>
<span class="c1">// 2</span>
<span class="c1">// 3</span>
<span class="c1">// 4</span></code></pre></figure>

<p>This also illustrates the fact we can pass functions and methods as regular parameters. This is the building block of functional programming.</p>

<p>The callback function <code class="highlighter-rouge">cb</code> in the <code class="highlighter-rouge">forEach</code> function has a particular signature:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">cb</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// ... do something with item</span>
  <span class="k">return</span> <span class="nx">someResult</span> <span class="c1">// may be optional</span>
<span class="p">}</span></code></pre></figure>

<p>It is passed the current element of the array in the <code class="highlighter-rouge">item</code> parameter, and performs some action upon it. The callback may return a value, but it doesn’t necessarily have to. The next subsection requires the callback to return a value, so it’s is highly dependent on the specific use. Sometimes the only thing that you may want to have happen to the array elements is run a side effect, perhaps if your array is a set of hooks or other callback functions.</p>

<p>To illustrate the latter, suppose the array was a collection of line items on an order, and you wanted to calculate the line price based on the unit price and quantity of items. Since each line item is a self-contained object, updating that line price is a side-effect on that object, instead of creating new objects. This might be how it could be written:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">calcLineCosts</span><span class="p">(</span><span class="nx">lineItems</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">forEach</span><span class="p">(</span><span class="nx">lineItems</span><span class="p">,</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">lineItem</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">lineItem</span><span class="p">.</span><span class="nx">linePrice</span> <span class="o">=</span> <span class="nx">lineItem</span><span class="p">.</span><span class="nx">quantity</span> <span class="o">*</span> <span class="nx">lineItem</span><span class="p">.</span><span class="nx">unitPrice</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">)</span></code></pre></figure>

<h3 id="mapwith">mapWith</h3>

<p>Reimplement <code class="highlighter-rouge">map</code> from above, this time using our <code class="highlighter-rouge">forEach</code> method. This was a head-scratcher for some of the study buddies, so I’ll walk through it a little more slowly.</p>

<p>The main structure will still be the same:</p>

<ol>
  <li>declare and initialize a space to build the new array</li>
  <li>inside the “loop” (which is implemented by the <code class="highlighter-rouge">forEach</code>), I’ll push the result of the callback on the array item onto the new array variable</li>
  <li>return the new array</li>
</ol>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">mapWith</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">cb</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">mapped</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1">// step 1</span>

  <span class="c1">// forEach providing our loop</span>
    <span class="p">...</span> <span class="nx">mapped</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">cb</span><span class="p">(</span><span class="nx">item</span><span class="p">))</span> <span class="c1">// step 2</span>

  <span class="k">return</span> <span class="nx">mapped</span> <span class="c1">// step 3</span>
<span class="p">}</span></code></pre></figure>

<p>The key is to figure out how to provide the <code class="highlighter-rouge">forEach</code> call. The parameters to <code class="highlighter-rouge">forEach</code> are <code class="highlighter-rouge">arr</code> - the input array, and <code class="highlighter-rouge">cb</code> the function to run on each. So inside, I need to create a function that will perform the <code class="highlighter-rouge">mapped.push</code> call:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">forEach</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">mapped</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">cb</span><span class="p">(</span><span class="nx">item</span><span class="p">))</span>
<span class="p">})</span></code></pre></figure>

<p>The anonymous function in the <code class="highlighter-rouge">forEach</code> call takes in the current array item and performs the push onto the new array after calling the callback on the item. Here is the entire contstruction, redone with ES6 syntax for the anonymous function:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">mapWith</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">cb</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">mapped</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="nx">forEach</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">item</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">mapped</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">cb</span><span class="p">(</span><span class="nx">item</span><span class="p">))</span>
  <span class="p">})</span>
  <span class="k">return</span> <span class="nx">mapped</span>
<span class="p">}</span></code></pre></figure>

<p>This works with <code class="highlighter-rouge">forEach</code>’s side-effect-only behaviour because <code class="highlighter-rouge">mapped</code> is declared outside the <code class="highlighter-rouge">forEach</code> call. It is still <em>within</em> the scope of <code class="highlighter-rouge">mapWith</code>, however, so it won’t leak anything, and <code class="highlighter-rouge">mapWith</code> is itself a <strong>pure function</strong>.</p>

<p>The <code class="highlighter-rouge">forEach</code> function body for <code class="highlighter-rouge">mapWith</code> is the same as the original <code class="highlighter-rouge">map</code> function, from <em>after</em> the <code class="highlighter-rouge">item</code> declaration.</p>

<p>The result is the same as for <code class="highlighter-rouge">map</code>:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"mapWith: "</span><span class="p">,</span> <span class="nx">mapWith</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="nx">addTwo</span><span class="p">))</span>
<span class="c1">// =&gt; mapWith:  [ 3, 4, 5, 6 ]</span></code></pre></figure>

<p>Continuing the discussion about whether our callbacks should return a value, in the case of the <code class="highlighter-rouge">mapWith</code> (or even <code class="highlighter-rouge">map</code>) functions, the callback <strong>must</strong> return a value, otherwise the new array will contain a collection of <code class="highlighter-rouge">undefined</code>’s instead.</p>

<h2 id="to-be-continued">(To be continued)</h2>

<p>As the study group gets further, I’ll add more to this post.</p>

</article>
<hr>

<p>
  <strong>Source</strong>:
  <a href="https://frontendmasters.com/courses/javascript-hard-parts/">
    https://frontendmasters.com/courses/javascript-hard-parts/
  </a>
</p>

<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'swaac'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


        </main>
      </div>
    </div>
    <!-- <script src="https://apis.google.com/js/plusone.js"></script> -->
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="/swaac/js/vendor/bootstrap.js"></script>
<script src="https://use.fontawesome.com/9e3a326427.js"></script>
<script src="/swaac/js/main.js"></script>

    

  </body>
</html>
